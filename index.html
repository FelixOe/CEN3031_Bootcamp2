<!DOCTYPE html>
<html>
<head>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/css/bootstrap.min.css">
    <link rel="stylesheet" href="style.css">
</head>
<body ng-app="directoryApp">
<div class="container">
    <div class="row">
        <h1>UF Directory App</h1>
    </div>
    <div class="row" ng-controller="ListingsController" ng-cloak>
        <div class="col-md-6">
            <div class="input-group" id="searchBar">
                <span class="input-group-addon" id="sizing-addon1"><span class="glyphicon glyphicon-search"></span></span>
                <input type="text" class="form-control" placeholder="Search" ng-model="searchTerm">
            </div>
            <div class="tableWrapper">
                <table class="table table-striped table-hover">
                    <tr>
                        <th>Code</th>
                        <th>Building Name</th>
                        <th>Delete</th>
                    </tr>
                    <tr ng-repeat="entry in listings | filter:searchTerm" ng-click="showDetails(entry);">
                        <td>{{entry.code}}</td>
                        <td>{{entry.name}}</td>
                        <td><div class="btn btn-danger" ng-click="deleteListing(entry);">Delete</div></td>
                    </tr>
                </table>
            </div>
            <form id="addListingForm" name="addListingForm" ng-submit="addListing();" novalidate>
                <span class="flash" ng-show="msgdisp">{{ message }}</span>
                <div class="form-group">
                    <label for="code">Code:</label>
                    <input type="text" class="form-control" id="code" name="code" ng-model="newListing.code" required>
                    <span ng-show="addListingForm.code.$error.required && addListingForm.code.$dirty" class="errormsg">Please enter a code!</span>
                </div>
                <div class="form-group">
                    <label for="name">Name:</label>
                    <input type="text" class="form-control" id="name" name="name" ng-model="newListing.name" required>
                    <span ng-show="addListingForm.name.$error.required && addListingForm.name.$dirty" class="errormsg">Please enter a name!</span>
                </div>
                <div class="form-group">
                    <label for="latitude">Latitude:</label>
                    <input type="text" class="form-control" id="latitude" name="latitude" ng-model="newListing.coordinates.latitude">
                </div>
                <div class="form-group">
                    <label for="Longitude">Longitude:</label>
                    <input type="text" class="form-control" id="longitude" name="longitude" ng-model="newListing.coordinates.longitude">
                </div>
                <div class="form-group">
                    <label for="address">Address:</label>
                    <input type="text" class="form-control" id="address" ng-model="newListing.address">
                </div>
                <input type="submit" class="btn btn-success" value="Add" ng-disabled="addListingForm.code.$invalid || addListingForm.name.$invalid">
                <input type="button" class="btn btn-warning" value="Reset" ng-click="resetModel();">
            </form>
        </div>
        <div class="col-md-6">
            <div class="jumbotron">
                <h2>Detailed Information</h2>
                <div ng-show="detailedInfo != undefined">
                    <div class="row">
                        <div class="col-md-6">
                            Code:
                        </div>
                        <div class="col-md-6">
                            {{detailedInfo.code}}
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-md-6">
                            Name:
                        </div>
                        <div class="col-md-6">
                            {{detailedInfo.name}}
                        </div>
                    </div>
                    <div class="row" ng-show="detailedInfo.coordinates">
                        <div class="col-md-6">
                            Coordinates:
                        </div>
                        <div class="col-md-6">
                            <div class="col-md-12 col-no-padding">
                                Latitude: {{detailedInfo.coordinates.latitude}}
                            </div>
                            <div class="col-md-12 col-no-padding">
                                Longitude: {{detailedInfo.coordinates.longitude}}
                            </div>
                        </div>
                    </div>
                    <div class="row" ng-show="detailedInfo.address">
                        <div class="col-md-6">
                            Address:
                        </div>
                        <div class="col-md-6">
                            {{detailedInfo.address}}
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.4/jquery.min.js"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/js/bootstrap.min.js"
        integrity="sha512-K1qjQ+NcF2TYO/eI3M6v8EiNYZfA95pQumfvcVrTHtwQVDG+aHRqLi/ETn2uB+1JqwYqVG3LIvdm9lj6imS/pQ=="
        crossorigin="anonymous"></script>
<script src="https://code.angularjs.org/1.4.3/angular.js"></script>
<script src="app.js"></script>
<script src="listingController.js"></script>
<script src="listingFactory.js"></script>
</body>
</html>